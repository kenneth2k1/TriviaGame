<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>  
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>


    <link rel="stylesheet" href="assets/css/style.css">

    <script type="text/javascript" src="assets/js/game.js"></script>


<title>Street Fighter RPG</title>
</head>
<body>

      <div class="container">
        <div class="row">
          <div class="col-md-12">
            <div class="jumbotron">
              <h1 class="text-center">The Best Trivia Game Ever!</h1>
              <h3 class="text-center">Timed questions, 30 seconds for each question. </h3>
              <h3 class="text-center">Click the start button to begin!</h3>
              <!-- <h2 class="text-center"><span id="hangWord"><strong> </strong></span></h2> -->
            </div>
            <div class="container">
                <div class="row">
                  <div id="timerDiv" class="col-md-12">
                    <button type="button" class="btn btn-danger center-block" id="startBtn">Start!</button> 
                  </div>
                </div>
          </div>
        </div>
      </div>

      <script type="text/javascript">

      var trivQues = {
          "question1" : {
            ques: "How many electrons does a hydrogen atom have?",
            ans: 1,
            wrongAns1: 8,
            wrongAns2: 20
          },
          "question2" : {
            ques: "A blunderbuss is an obsolete type of what?",
            ans: "firearm",
            wrongAns1: "building",
            wrongAns2: "movie"
          }
        }

    // VARIABLES and functions for timer
    var intervalId;
    var number = 30;
    var clockRunning = false;
    $("#startBtn").on("click", function() {
      $("#startBtn").hide();
      $("#timerDiv").html("<h2 class='text-center'>" + number + "</h2>");
      run();
    });
    
    function run() {
      clearInterval(intervalId);
      intervalId = setInterval(decrement, 1000);
    }

    //  The decrement function.
    function decrement() {

      number--;
      $("#timerDiv").html("<h2 class='text-center'>" + number + "</h2>");

      if (number === 0) {
        alert("Time's Up!");
      }
    }
    
      function start() {

          if (!clockRunning) {
            intervalId = setInterval(count, 1000);
            clockRunning = true;
          }
        }
        // initialize stuff when doc loads
        $(document).ready(function(){

          rWord = words[Math.floor(Math.random() * words.length)];
          console.log(rWord);  
            reset();  

            for (i=0; i < rWord.length; i++){
              ourWord.push("_");
            }

            $("#hangWord").text(ourWord.join(" "));

        
        function reset() {
          // lives = guess;     
           rWord.length = 0;  //random word to be guessed
            
           letter = "";
  
           guess = 10;
  
           wins = 0;
           losses = 0;
           lives = 0;
           ourWord.length = 0;
           used.length = 0;                                   
        };

  document.onkeyup = function(event) {    
  var letter = event.key ;             //defines the letter being guessed via a key press
  console.log(letter) ; //109 console log error
  // document.getElementById("#").append(letter);  
            
            if(rWord.indexOf(letter) != -1){
              correctPickCount++;
              for(var i=0; i<rWord.length; i++){
                if(rWord[i] == letter) 
                  ourWord[i] = rWord[i];
                  $("#hangWord").text(ourWord.join(" "));
              }
              //117 console log error
            if(correctPickCount == ourWord.length){
                $(".modal-title").text("Congratulations!");
                $(".modal-body").text("You won! Let's play again, or cancel");
                $("#introModal").css("display", "block");
              }
            } else {
              guess--;
              $("#guessesRem").text(guess.toString());
            if(guess == 0){
                $(".modal-title").text("Sorry!");
                $(".modal-body").text("You lost! Let's play again, or cancel");
                $("#introModal").css("display", "block");
              }
            }
            myPickTxt.textContent = letter; //134 console log error
            used.push(letter); //135 console log error
            prevGuesses.textContent = used.join(" ");
    }

});
    
$(".btn-primary").on("click", function(){
          correctPickCount = 0;
          guess = 10;
          ourWord.length = 0;
          used.length = 0;

          $("#myPickTxt").text("");
          $("#guessesRem").text(guess.toString());
          $("#prevGuesses").text(used.toString());
          rWord = words[Math.floor(Math.random() * words.length)];
          for (var i = 0; i < rWord.length; i++) {
              ourWord.push("_");
          }
          $("#hangWord").text(ourWord.join(" "));
          $("#introModal").css("display", "none");
          console.log("Here's the secret word: " + rWord);
        });
        $(".btn-secondary").on("click", function(){
          window.location.href("https://www.msn.com/");
        });

      </script>
   </body>
</html>


